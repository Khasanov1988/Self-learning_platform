{% extends 'education_content/base.html' %}

{% block content %}

    <main class="form-signin w-100 m-auto">
        <div class="row">

            <div class="position-relative overflow-hidden p-3 p-md-5 m-md-5 text-center bg-body-tertiary">
                <div class="d-md-flex flex-md-equal container my-md-3 ps-md-3">

                    <form class="needs-validation" method="post" enctype="multipart/form-data" novalidate>
                        <img class="mb-4" id="themeImage" src="/media/decor/favicon.ico" alt="" width="128"
                             height="128">
                        <h1 class="h3 mb-3 fw-normal">Creating a new educational material</h1>
                        {% csrf_token %}
                        <div class="form-floating mb-1">
                            <input type="text" name="topic" value="{{ object }}" autofocus autocapitalize="none"
                                   autocomplete="current-topic"
                                   maxlength="100" class="form-control" id="id_topic"
                                   placeholder="name@example.com"
                                   required>
                            <label for="id_topic">Topic</label>
                        </div>
                        <div class="form-floating mb-1">
                            <input type="text" name="description" value="{{ object.description }}" autofocus
                                   autocapitalize="none"
                                   autocomplete="current-description"
                                   maxlength="300" class="form-control" id="id_description"
                                   placeholder="name@example.com"
                                   required>
                            <label for="id_description">Description</label>
                        </div>
                        <div class="form-floating mb-1">
                        <textarea type="text" name="text" autofocus autocapitalize="none"
                                  autocomplete="current-text" class="form-control"
                                  id="id_material_text"
                                  rows="3" placeholder=" "
                                  required>{{ object.text }}</textarea>
                            <label for="id_material_text">Text area</label>
                        </div>
                        {% if chapter_list %}
                            {% if chapter_pk %}
                                <input type="hidden" name="chapter" value="{{ chapter_pk }}">
                            {% else %}
                                <select class="form-select form-select-lg mb-1" name="chapter"
                                        aria-label="Large select example" required>
                                    <option selected>Chapter: {{ object.chapter }}</option>
                                    {% for chapter in chapter_list %}
                                        <option value="{{ chapter.pk }}">{{ chapter }}</option>
                                    {% endfor %}
                                </select>
                            {% endif %}
                        {% endif %}
                        <div class="mb-3">
                            <input type="file" name="preview" accept="image/*"
                                   class="form-control" id="id_preview">
                        </div>
                        <button type="submit" class="btn btn-success">
                            {% if object %}
                                Save
                            {% else %}
                                Create
                            {% endif %}
                        </button>
                    </form>


                </div>

            </div>
        </div>
    </main>
{% endblock %}